<!doctype html>
<html lang="en" data-secret="">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<title>Research Publication Portal</title>
<style>
  html,body{
    margin:0;
    padding:0;
    background:#0b0f14;
    color:#e9f2fb;
    font-family:Inter,system-ui,Segoe UI,Roboto,Helvetica,Arial,sans-serif;
    width:1920px;
    height:1080px;
    overflow:hidden;
  }
  .wrap{
    width:1920px;
    height:1080px;
    display:flex;
    justify-content:center;
    align-items:center;
  }
  .card{
    width:1600px;
    height:900px;
    background:#121821;
    border:1px solid #1f2a38;
    border-radius:24px;
    box-shadow:0 0 40px rgba(0,0,0,.4);
    display:flex;
    flex-direction:column;
  }
  header{
    display:flex;
    justify-content:space-between;
    align-items:center;
    padding:24px 36px;
    border-bottom:1px solid #1f2a38;
  }
  header h1{font-size:2rem;margin:0;font-weight:600}
  .hint{font-size:1rem;color:#9fb2c8}
  main{
    flex:1;
    padding:40px 60px;
    display:grid;
    align-content:start;
    gap:30px;
  }
  input[type="password"], input[type="file"]{
    width:100%;
    padding:18px 20px;
    border-radius:16px;
    border:1px solid #243043;
    background:#0f141c;
    color:#dfeaf7;
    font-size:1.2rem;
  }
  input[type="password"]:focus{border-color:#35507a;outline:none}
  .btn{
    display:inline-flex;
    align-items:center;
    justify-content:center;
    gap:.6rem;
    padding:16px 28px;
    border-radius:14px;
    font-size:1.1rem;
    border:1px solid #2a3a51;
    background:#17202c;
    color:#e9f2fb;
    cursor:pointer;
    font-weight:600;
  }
  .btn.primary{background:linear-gradient(180deg,#2a7bff,#1b5bdc);border-color:#1e52c1}
  .btn.success{background:linear-gradient(180deg,#3ce9b9,#16c090);border-color:#18a97f;color:#07221b}
  .note{font-size:1rem;color:#9fb2c8}
  .err{color:#ff7a7a;font-weight:600}
  .ok{color:#37e3aa;font-weight:600}
  .view{display:none}
  .view.active{display:block}

  .published-wrap{
    position:relative;
    width:100%;
    height:700px;
    border-radius:24px;
    overflow:hidden;
    background-image:url('https://raw.githubusercontent.com/chaninatw/publication/main/butanal_bg.png');
    background-size:cover;
    background-position:center;
  }
  .overlay{
    position:absolute;inset:0;
    background:linear-gradient(0deg,rgba(4,6,12,.70),rgba(4,6,12,.55) 30%,rgba(4,6,12,.25));
  }
  .badge{
    position:absolute;
    bottom:10%;
    left:50%;
    transform:translateX(-50%);
    text-align:center;
  }
  .badge .stamp{
    display:inline-block;
    padding:.6em 1.2em;
    border:4px solid #15d39a;
    border-radius:12px;
    transform:rotate(-4deg);
    box-shadow:0 8px 28px rgba(0,0,0,.45), inset 0 0 25px rgba(21,211,154,.18);
    background:rgba(5,25,22,.55);
    backdrop-filter:blur(2px);
    font-weight:900;
    letter-spacing:.18em;
    color:#b9ffe8;
    font-size:6rem;
    text-transform:uppercase;
  }
</style>
</head>
<body>
<div class="wrap">
  <div class="card">
    <header>
      <h1>Research Publication Interface</h1>
      <div class="hint" id="statusHint">Access locked</div>
    </header>

    <!-- VIEW 1: PASSWORD -->
    <main class="view active" id="view-gate">
      <div>
        <label for="pw"><strong style="font-size:1.2rem;">Enter Access Password</strong></label><br>
        <input id="pw" type="password" inputmode="numeric" placeholder="••••••" autocomplete="off" />
      </div>
      <div style="display:flex;justify-content:space-between;align-items:center;">
        <div class="note">Password required (6 digits)</div>
        <button class="btn primary" id="btn-enter">Unlock</button>
      </div>
      <div class="err" id="pwErr" style="display:none;">Incorrect password. Try again.</div>
      <div class="note">Tip: You can also append <code>?code=YOURCODE</code> to the URL.</div>
    </main>

    <!-- VIEW 2: UPLOAD -->
    <main class="view" id="view-upload">
      <div>
        <label for="pdf"><strong style="font-size:1.2rem;">Upload Your PDF</strong></label><br>
        <input id="pdf" type="file" accept="application/pdf" />
      </div>
      <div class="note">Exact filename to publish: <code>butyraldehyde_synthesis.pdf</code></div>
      <div style="display:flex;justify-content:space-between;align-items:center;">
        <div class="note" id="fileMsg">No file selected.</div>
        <button class="btn" id="btn-submit" disabled>Submit</button>
      </div>
      <div class="err" id="upErr" style="display:none;"></div>
      <div class="ok" id="upOk" style="display:none;"></div>
    </main>

    <!-- VIEW 3: PUBLISHED -->
    <main class="view" id="view-published">
      <div class="published-wrap">
        <div class="overlay"></div>
        <div class="badge"><span class="stamp">PUBLISHED</span></div>
      </div>
      <div style="display:flex;justify-content:center;margin-top:24px;">
        <button class="btn success" id="btn-again">Upload another</button>
      </div>
    </main>
  </div>
</div>

<script>
(() => {
  const DEFAULT_PASSWORD = "102665";
  const TARGET_FILENAME = "butyraldehyde_synthesis.pdf";
  const qs = (sel, el=document) => el.querySelector(sel);
  const show = el => el.style.display = "";
  const hide = el => el.style.display = "none";
  const setActive = id => {
    document.querySelectorAll(".view").forEach(v=>v.classList.remove("active"));
    qs("#"+id).classList.add("active");
  };
  const getQueryParam = n => new URLSearchParams(location.search).get(n);
  let secret = DEFAULT_PASSWORD;
  const code = getQueryParam("code");
  if(code) secret = code.trim();
  const bodySecret = document.body.dataset.secret;
  if(bodySecret) secret = bodySecret.trim();

  const status = qs("#statusHint");
  const pw = qs("#pw");
  const pwErr = qs("#pwErr");
  const enter = qs("#btn-enter");
  const pdf = qs("#pdf");
  const fileMsg = qs("#fileMsg");
  const submit = qs("#btn-submit");
  const upErr = qs("#upErr");
  const upOk = qs("#upOk");
  const again = qs("#btn-again");

  const unlock = () => {
    hide(pwErr);
    if(pw.value.trim()===secret){
      status.textContent="Access granted";
      setActive("view-upload");
    } else {
      show(pwErr);
    }
  };
  enter.onclick = unlock;
  pw.onkeydown = e => {if(e.key==="Enter") unlock();};

  pdf.onchange = ()=>{
    hide(upErr);hide(upOk);
    const f = pdf.files[0];
    if(!f){fileMsg.textContent="No file selected.";submit.disabled=true;return;}
    fileMsg.textContent="Selected: "+f.name;
    submit.disabled=false;
  };
  submit.onclick=()=>{
    hide(upErr);hide(upOk);
    const f=pdf.files[0];
    if(!f){upErr.textContent="Please choose a PDF.";show(upErr);return;}
    if(f.type!=="application/pdf"){upErr.textContent="Only PDF allowed.";show(upErr);return;}
    if(f.name===TARGET_FILENAME){
      setActive("view-published");
      status.textContent="Published";
    }else{
      upOk.textContent=`File "${f.name}" received (not matching target filename).`;
      show(upOk);
    }
  };
  again.onclick=()=>{
    pdf.value="";
    fileMsg.textContent="No file selected.";
    submit.disabled=true;
    hide(upErr);hide(upOk);
    setActive("view-upload");
  };
})();
</script>
</body>
</html>
